{
    "name": "builder",
    "version": "1.0.0",
    "description": "Build system for mixed-language monorepos with compile-time dependency analysis",
    "authors": ["Griffin"],
    "copyright": "Copyright Â© 2025",
    "license": "GRIFFIN",
    "homepage": "https://github.com/GriffinCanCode/Builder",
    "targetType": "executable",
    "targetPath": "bin",
    "mainSourceFile": "source/app.d",
    "sourcePaths": ["source"],
    "importPaths": ["source"],
    "dependencies": {},
    "preBuildCommands": [
        "mkdir -p bin/obj",
        "clang -c -O3 -fPIC source/utils/crypto/c/blake3.c -o bin/obj/blake3.o || true",
        "clang -c -O3 -fPIC source/utils/simd/c/cpu_detect.c -o bin/obj/cpu_detect.o || true",
        "clang -c -O3 -fPIC source/utils/simd/c/blake3_dispatch.c -o bin/obj/blake3_dispatch.o || true",
        "clang -c -O3 -fPIC source/utils/simd/c/simd_ops.c -o bin/obj/simd_ops.o || true"
    ],
    "sourceFiles": [
        "bin/obj/blake3.o",
        "bin/obj/cpu_detect.o",
        "bin/obj/blake3_dispatch.o",
        "bin/obj/simd_ops.o"
    ],
    "dflags": ["-L-lstdc++", "-preview=dip1000"],
    "lflags": ["-lm"],
    "configurations": [
        {
            "name": "executable",
            "targetType": "executable"
        },
        {
            "name": "library",
            "targetType": "library",
            "excludedSourceFiles": ["source/app.d"]
        },
        {
            "name": "unittest",
            "targetType": "executable",
            "targetName": "test-runner",
            "targetPath": "bin",
            "mainSourceFile": "tests/runner.d",
            "sourcePaths": ["source", "tests"],
            "importPaths": ["source", "tests"],
            "excludedSourceFiles": ["source/app.d"],
            "buildOptions": ["unittests", "debugMode", "debugInfo"]
        }
    ],
    "buildTypes": {
        "debug": {
            "buildOptions": ["debugMode", "debugInfo"]
        },
        "release": {
            "buildOptions": ["releaseMode", "optimize", "inline"]
        },
        "release-debug": {
            "buildOptions": ["releaseMode", "optimize", "debugInfo"]
        },
        "tsan": {
            "buildOptions": ["debugMode", "debugInfo"],
            "dflags-ldc": ["-fsanitize=thread"],
            "lflags-ldc": ["-fsanitize=thread"]
        },
        "ddoc": {
            "buildOptions": ["syntaxOnly"],
            "dflags": ["-Dddocs", "-Xfdocs/builder.json"]
        }
    }
}

